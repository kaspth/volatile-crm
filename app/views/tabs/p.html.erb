<%= render TabNav::Bar do |bar| %>
  <%= bar.link_tab "Dashboard", tab_path,       icon: "home" %>
  <%= bar.link_tab "Contacts",  contacts_path,  icon: "users",           counter: Current.account.contacts %>
  <%= bar.link_tab "Companies", companies_path, icon: "building-office", counter: Current.account.companies %>
  <%= bar.link_tab "Tasks",     tasks_path,     icon: "pencil-square",   counter: Current.account.tasks, threshold: 15 %>

  <% if Current.account.plan.pro? %>
    <%= bar.link_tab "Reports", reports_path, icon: "chart-bar" %>
  <% else %>
    <%= bar.disabled_tab "Reports", icon: "chart-bar", tooltip: "Reports are only available on the Pro plan." %>
  <% end %>

  <%= bar.dropdown_tab "Settings", icon: "cog-6-tooth" do |tab| %>
    <%= tab.item "Collaborators", settings_collaborators_path %>
    <%= tab.item "Notifications", settings_notifications_path %>
  <% end if Current.user.admin? %>

  <% bar.extra.if Current.account.features.search? do %>
    <%= form_with url: searches_path, method: :get do |form| %>
      <%= form.text_field :query, placeholder: "Search", autocomplete: "off", class: "w-full text-sm border-gray-300 rounded-lg shadow-inner placeholder:text-gray-400" %>
    <% end %>
  <% end %>
<% end %>
